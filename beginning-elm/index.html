<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
      .jumbotron {
        background-color: #e6ffe6;
        text-align: center;
      }
    </style>
    <title></title>
</head>
<body>
    <script src="/app.js"></script>
    <script>
        let storedState = localStorage.getItem('post-app-save');
        console.log("Retrieved state: ", storedState);
        let startingState = storedState ? JSON.parse(storedState) : null;
        let app = Elm.Main.init({flags: startingState});
        app.ports.storePosts.subscribe(function(posts){
            if (posts.length > 0) {
                let postsJson = JSON.stringify(posts);
                localStorage.setItem('post-app-save', postsJson);
                console.log("Saved State: ", postsJson);
            }
        })
    </script>
<!--  <div id="elm-app-is-loaded-here"></div>-->
<!--  <script src="dom-performance-test.js"></script>-->
<!--  <script>-->
<!--    // let app = Elm.Signup.init({-->
<!--    //   node:document.getElementById("elm-app-is-loaded-here")-->
<!--    // })-->
<!--    // let app = Elm.RandomNumber.init({-->
<!--    //   node:document.getElementById("elm-app-is-loaded-here")-->
<!--    // })-->
<!--    // let app = Elm.HttpExamples.init({-->
<!--    //     node:document.getElementById("elm-app-is-loaded-here")-->
<!--    // let app = Elm.DecodingJson.init({-->
<!--    //     node:document.getElementById("elm-app-is-loaded-here")-->
<!--    // })-->
<!--    // let app = Elm.PortExamples.init({-->
<!--    //     node: document.getElementById("elm-app-is-loaded-here")-->
<!--    // });-->
<!--    // app.ports.sendData.subscribe(function(data) {-->
<!--    //     console.log("Data from Elm: ", data);-->
<!--    //     app.ports.receiveData.send("Hey Elm!");-->
<!--    // });-->
<!--    // let app = Elm.EventListener.init({-->
<!--    //     node:document.getElementById("elm-app-is-loaded-here")-->
<!--    // });-->
<!--  </script>-->
</body>
</html>